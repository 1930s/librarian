\hypertarget{classsrc_1_1db__queries_1_1mysql}{
\section{src::db\_\-queries::mysql Class Reference}
\label{classsrc_1_1db__queries_1_1mysql}\index{src::db\_\-queries::mysql@{src::db\_\-queries::mysql}}
}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classsrc_1_1db__queries_1_1mysql_a4583def66e219f8d596357267aec5e39}{
def {\bfseries \_\-\_\-init\_\-\_\-}}
\label{classsrc_1_1db__queries_1_1mysql_a4583def66e219f8d596357267aec5e39}

\item 
def \hyperlink{classsrc_1_1db__queries_1_1mysql_a5194d50e822e8b1c80b332ce7e48bd78}{get\_\-all\_\-books}
\item 
\hypertarget{classsrc_1_1db__queries_1_1mysql_ac335fbdbe5a7c49a023386a9dc916c9a}{
def {\bfseries get\_\-book\_\-count\_\-by\_\-isbn}}
\label{classsrc_1_1db__queries_1_1mysql_ac335fbdbe5a7c49a023386a9dc916c9a}

\item 
\hypertarget{classsrc_1_1db__queries_1_1mysql_a35e2665c109c4fbca5b54bc6a54b6040}{
def {\bfseries get\_\-book\_\-borrower\_\-by\_\-book\_\-id}}
\label{classsrc_1_1db__queries_1_1mysql_a35e2665c109c4fbca5b54bc6a54b6040}

\item 
def \hyperlink{classsrc_1_1db__queries_1_1mysql_a34d06d000fe2d89fca4cc45043b59bca}{get\_\-qrcode\_\-count}
\item 
def \hyperlink{classsrc_1_1db__queries_1_1mysql_ad9654085201259e5d34d86122fb7e970}{get\_\-borrowed\_\-books}
\item 
\hypertarget{classsrc_1_1db__queries_1_1mysql_aa1ee56d7eeb1cd8b7c8625e75de3a3c3}{
def {\bfseries get\_\-borrowed\_\-book\_\-by\_\-id}}
\label{classsrc_1_1db__queries_1_1mysql_aa1ee56d7eeb1cd8b7c8625e75de3a3c3}

\item 
\hypertarget{classsrc_1_1db__queries_1_1mysql_accd81d766fe58d9e9be2775ede90757f}{
def {\bfseries get\_\-borrower\_\-by\_\-id}}
\label{classsrc_1_1db__queries_1_1mysql_accd81d766fe58d9e9be2775ede90757f}

\item 
\hypertarget{classsrc_1_1db__queries_1_1mysql_acddd6fb7c7a49ab08f47e9f6db2d9254}{
def {\bfseries get\_\-borrowers\_\-borrowed\_\-books}}
\label{classsrc_1_1db__queries_1_1mysql_acddd6fb7c7a49ab08f47e9f6db2d9254}

\item 
def \hyperlink{classsrc_1_1db__queries_1_1mysql_a3133706393627cf051709bf3ed998d20}{get\_\-borrows}
\item 
def \hyperlink{classsrc_1_1db__queries_1_1mysql_a3e098bfd090feb541fe2bc0a2cbaead9}{get\_\-all\_\-borrowers}
\item 
\hypertarget{classsrc_1_1db__queries_1_1mysql_a2025a4980065255709283815010c92c0}{
def {\bfseries get\_\-one\_\-borrower}}
\label{classsrc_1_1db__queries_1_1mysql_a2025a4980065255709283815010c92c0}

\item 
def \hyperlink{classsrc_1_1db__queries_1_1mysql_a0df5ef96ad4fe9c2d8a5ef6ae28306bc}{search\_\-books}
\item 
def \hyperlink{classsrc_1_1db__queries_1_1mysql_a60e0f5c35af712bd7e283357da5fa92e}{get\_\-by\_\-id}
\item 
def \hyperlink{classsrc_1_1db__queries_1_1mysql_ac77169e19613f2bf62c6d400338dd31b}{insert\_\-unique\_\-author}
\item 
def \hyperlink{classsrc_1_1db__queries_1_1mysql_a659b048965f31fb543c8242879851406}{insert\_\-book\_\-object}
\item 
def \hyperlink{classsrc_1_1db__queries_1_1mysql_a925c2219971ebac4a0a02072c5f74f48}{insert\_\-book\_\-complete}
\item 
\hypertarget{classsrc_1_1db__queries_1_1mysql_a3a2e3e7740c92c669b1979827fb28bed}{
def {\bfseries update\_\-book}}
\label{classsrc_1_1db__queries_1_1mysql_a3a2e3e7740c92c669b1979827fb28bed}

\item 
\hypertarget{classsrc_1_1db__queries_1_1mysql_a39f859b918fcbc4a9687ac94081bc29d}{
def {\bfseries update\_\-book\_\-location}}
\label{classsrc_1_1db__queries_1_1mysql_a39f859b918fcbc4a9687ac94081bc29d}

\item 
\hypertarget{classsrc_1_1db__queries_1_1mysql_af732ce1b96e79d0cdf8b474c4321f57e}{
def {\bfseries add\_\-borrow}}
\label{classsrc_1_1db__queries_1_1mysql_af732ce1b96e79d0cdf8b474c4321f57e}

\item 
\hypertarget{classsrc_1_1db__queries_1_1mysql_a512c5f67e135b96a05ac03d715cc2a76}{
def {\bfseries add\_\-new\_\-borrower}}
\label{classsrc_1_1db__queries_1_1mysql_a512c5f67e135b96a05ac03d715cc2a76}

\item 
\hypertarget{classsrc_1_1db__queries_1_1mysql_a509b39a8e3d795bbd56e48e9e4daf4ce}{
def {\bfseries update\_\-borrower}}
\label{classsrc_1_1db__queries_1_1mysql_a509b39a8e3d795bbd56e48e9e4daf4ce}

\item 
\hypertarget{classsrc_1_1db__queries_1_1mysql_a45315e123c76e4c4de48e0a1000ed5cd}{
def {\bfseries update\_\-borrows}}
\label{classsrc_1_1db__queries_1_1mysql_a45315e123c76e4c4de48e0a1000ed5cd}

\item 
def \hyperlink{classsrc_1_1db__queries_1_1mysql_a509a11d18bc82adec8fe933b48bafc0d}{remove\_\-book}
\item 
def \hyperlink{classsrc_1_1db__queries_1_1mysql_a986b525715ffc14ee62dd88c765a3e99}{add\_\-location}
\item 
\hypertarget{classsrc_1_1db__queries_1_1mysql_af3e7c289f7f9cac42cf9aca0b766a878}{
def {\bfseries get\_\-locations}}
\label{classsrc_1_1db__queries_1_1mysql_af3e7c289f7f9cac42cf9aca0b766a878}

\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classsrc_1_1db__queries_1_1mysql_a2585bb5a967b8cfb1f1a3f18cc2d799a}{
{\bfseries db}}
\label{classsrc_1_1db__queries_1_1mysql_a2585bb5a967b8cfb1f1a3f18cc2d799a}

\item 
\hypertarget{classsrc_1_1db__queries_1_1mysql_a2f4f0a22d3217c2902d030a2d6300b68}{
{\bfseries cur}}
\label{classsrc_1_1db__queries_1_1mysql_a2f4f0a22d3217c2902d030a2d6300b68}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}
Database queries for MySQL

\end{DoxyVerb}
 

\subsection{Member Function Documentation}
\hypertarget{classsrc_1_1db__queries_1_1mysql_a986b525715ffc14ee62dd88c765a3e99}{
\index{src::db\_\-queries::mysql@{src::db\_\-queries::mysql}!add\_\-location@{add\_\-location}}
\index{add\_\-location@{add\_\-location}!src::db_queries::mysql@{src::db\_\-queries::mysql}}
\subsubsection[{add\_\-location}]{\setlength{\rightskip}{0pt plus 5cm}def src::db\_\-queries::mysql::add\_\-location (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{room, }
\item[{}]{shelf}
\end{DoxyParamCaption}
)}}
\label{classsrc_1_1db__queries_1_1mysql_a986b525715ffc14ee62dd88c765a3e99}
\begin{DoxyVerb}
Add a new location to the database.
create table locations(id int auto_increment primary key, room text, shelf text);  
\end{DoxyVerb}
 \hypertarget{classsrc_1_1db__queries_1_1mysql_a5194d50e822e8b1c80b332ce7e48bd78}{
\index{src::db\_\-queries::mysql@{src::db\_\-queries::mysql}!get\_\-all\_\-books@{get\_\-all\_\-books}}
\index{get\_\-all\_\-books@{get\_\-all\_\-books}!src::db_queries::mysql@{src::db\_\-queries::mysql}}
\subsubsection[{get\_\-all\_\-books}]{\setlength{\rightskip}{0pt plus 5cm}def src::db\_\-queries::mysql::get\_\-all\_\-books (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}
\label{classsrc_1_1db__queries_1_1mysql_a5194d50e822e8b1c80b332ce7e48bd78}
\begin{DoxyVerb}
Get all of the books and return a list.

\end{DoxyVerb}
 \hypertarget{classsrc_1_1db__queries_1_1mysql_a3e098bfd090feb541fe2bc0a2cbaead9}{
\index{src::db\_\-queries::mysql@{src::db\_\-queries::mysql}!get\_\-all\_\-borrowers@{get\_\-all\_\-borrowers}}
\index{get\_\-all\_\-borrowers@{get\_\-all\_\-borrowers}!src::db_queries::mysql@{src::db\_\-queries::mysql}}
\subsubsection[{get\_\-all\_\-borrowers}]{\setlength{\rightskip}{0pt plus 5cm}def src::db\_\-queries::mysql::get\_\-all\_\-borrowers (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}
\label{classsrc_1_1db__queries_1_1mysql_a3e098bfd090feb541fe2bc0a2cbaead9}
\begin{DoxyVerb}
Get all the borrowers in the database.

\end{DoxyVerb}
 \hypertarget{classsrc_1_1db__queries_1_1mysql_ad9654085201259e5d34d86122fb7e970}{
\index{src::db\_\-queries::mysql@{src::db\_\-queries::mysql}!get\_\-borrowed\_\-books@{get\_\-borrowed\_\-books}}
\index{get\_\-borrowed\_\-books@{get\_\-borrowed\_\-books}!src::db_queries::mysql@{src::db\_\-queries::mysql}}
\subsubsection[{get\_\-borrowed\_\-books}]{\setlength{\rightskip}{0pt plus 5cm}def src::db\_\-queries::mysql::get\_\-borrowed\_\-books (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}
\label{classsrc_1_1db__queries_1_1mysql_ad9654085201259e5d34d86122fb7e970}
\begin{DoxyVerb}
Get a list of books that have been borrowed. plus those lent to me.
TODO Lent to me books.
\end{DoxyVerb}
 \hypertarget{classsrc_1_1db__queries_1_1mysql_a3133706393627cf051709bf3ed998d20}{
\index{src::db\_\-queries::mysql@{src::db\_\-queries::mysql}!get\_\-borrows@{get\_\-borrows}}
\index{get\_\-borrows@{get\_\-borrows}!src::db_queries::mysql@{src::db\_\-queries::mysql}}
\subsubsection[{get\_\-borrows}]{\setlength{\rightskip}{0pt plus 5cm}def src::db\_\-queries::mysql::get\_\-borrows (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{bid, }
\item[{}]{copies}
\end{DoxyParamCaption}
)}}
\label{classsrc_1_1db__queries_1_1mysql_a3133706393627cf051709bf3ed998d20}
\begin{DoxyVerb}
Get the borrows for a specific book.

\end{DoxyVerb}
 \hypertarget{classsrc_1_1db__queries_1_1mysql_a60e0f5c35af712bd7e283357da5fa92e}{
\index{src::db\_\-queries::mysql@{src::db\_\-queries::mysql}!get\_\-by\_\-id@{get\_\-by\_\-id}}
\index{get\_\-by\_\-id@{get\_\-by\_\-id}!src::db_queries::mysql@{src::db\_\-queries::mysql}}
\subsubsection[{get\_\-by\_\-id}]{\setlength{\rightskip}{0pt plus 5cm}def src::db\_\-queries::mysql::get\_\-by\_\-id (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{book\_\-id}
\end{DoxyParamCaption}
)}}
\label{classsrc_1_1db__queries_1_1mysql_a60e0f5c35af712bd7e283357da5fa92e}
\begin{DoxyVerb}Search for book on its ID.  NB. This is NOT its ISBN

\end{DoxyVerb}
 \hypertarget{classsrc_1_1db__queries_1_1mysql_a34d06d000fe2d89fca4cc45043b59bca}{
\index{src::db\_\-queries::mysql@{src::db\_\-queries::mysql}!get\_\-qrcode\_\-count@{get\_\-qrcode\_\-count}}
\index{get\_\-qrcode\_\-count@{get\_\-qrcode\_\-count}!src::db_queries::mysql@{src::db\_\-queries::mysql}}
\subsubsection[{get\_\-qrcode\_\-count}]{\setlength{\rightskip}{0pt plus 5cm}def src::db\_\-queries::mysql::get\_\-qrcode\_\-count (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{isbn}
\end{DoxyParamCaption}
)}}
\label{classsrc_1_1db__queries_1_1mysql_a34d06d000fe2d89fca4cc45043b59bca}
\begin{DoxyVerb}Get a count of QR codes matching the ISBN
\end{DoxyVerb}
 \hypertarget{classsrc_1_1db__queries_1_1mysql_a925c2219971ebac4a0a02072c5f74f48}{
\index{src::db\_\-queries::mysql@{src::db\_\-queries::mysql}!insert\_\-book\_\-complete@{insert\_\-book\_\-complete}}
\index{insert\_\-book\_\-complete@{insert\_\-book\_\-complete}!src::db_queries::mysql@{src::db\_\-queries::mysql}}
\subsubsection[{insert\_\-book\_\-complete}]{\setlength{\rightskip}{0pt plus 5cm}def src::db\_\-queries::mysql::insert\_\-book\_\-complete (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{title, }
\item[{}]{authors, }
\item[{}]{isbn, }
\item[{}]{abstract, }
\item[{}]{year, }
\item[{}]{publisher, }
\item[{}]{city, }
\item[{}]{mtype, }
\item[{}]{owner, }
\item[{}]{add\_\-date}
\end{DoxyParamCaption}
)}}
\label{classsrc_1_1db__queries_1_1mysql_a925c2219971ebac4a0a02072c5f74f48}
\begin{DoxyVerb}Insert a books' complete details in to the DB.
@return last insert ID 
\end{DoxyVerb}
 \hypertarget{classsrc_1_1db__queries_1_1mysql_a659b048965f31fb543c8242879851406}{
\index{src::db\_\-queries::mysql@{src::db\_\-queries::mysql}!insert\_\-book\_\-object@{insert\_\-book\_\-object}}
\index{insert\_\-book\_\-object@{insert\_\-book\_\-object}!src::db_queries::mysql@{src::db\_\-queries::mysql}}
\subsubsection[{insert\_\-book\_\-object}]{\setlength{\rightskip}{0pt plus 5cm}def src::db\_\-queries::mysql::insert\_\-book\_\-object (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{book}
\end{DoxyParamCaption}
)}}
\label{classsrc_1_1db__queries_1_1mysql_a659b048965f31fb543c8242879851406}
\begin{DoxyVerb}Insert a book's details directly from a book object
@param book.  A book object.
@return Result of insert
\end{DoxyVerb}
 \hypertarget{classsrc_1_1db__queries_1_1mysql_ac77169e19613f2bf62c6d400338dd31b}{
\index{src::db\_\-queries::mysql@{src::db\_\-queries::mysql}!insert\_\-unique\_\-author@{insert\_\-unique\_\-author}}
\index{insert\_\-unique\_\-author@{insert\_\-unique\_\-author}!src::db_queries::mysql@{src::db\_\-queries::mysql}}
\subsubsection[{insert\_\-unique\_\-author}]{\setlength{\rightskip}{0pt plus 5cm}def src::db\_\-queries::mysql::insert\_\-unique\_\-author (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{authors}
\end{DoxyParamCaption}
)}}
\label{classsrc_1_1db__queries_1_1mysql_ac77169e19613f2bf62c6d400338dd31b}
\begin{DoxyVerb}
Insert author(s) ensuring uniqueness.

\end{DoxyVerb}
 \hypertarget{classsrc_1_1db__queries_1_1mysql_a509a11d18bc82adec8fe933b48bafc0d}{
\index{src::db\_\-queries::mysql@{src::db\_\-queries::mysql}!remove\_\-book@{remove\_\-book}}
\index{remove\_\-book@{remove\_\-book}!src::db_queries::mysql@{src::db\_\-queries::mysql}}
\subsubsection[{remove\_\-book}]{\setlength{\rightskip}{0pt plus 5cm}def src::db\_\-queries::mysql::remove\_\-book (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{bid}
\end{DoxyParamCaption}
)}}
\label{classsrc_1_1db__queries_1_1mysql_a509a11d18bc82adec8fe933b48bafc0d}
\begin{DoxyVerb}remove a book/copy from the db.  This just decrements the copy 
counter until copies = 0 then we remove the entry completely.
\end{DoxyVerb}
 \hypertarget{classsrc_1_1db__queries_1_1mysql_a0df5ef96ad4fe9c2d8a5ef6ae28306bc}{
\index{src::db\_\-queries::mysql@{src::db\_\-queries::mysql}!search\_\-books@{search\_\-books}}
\index{search\_\-books@{search\_\-books}!src::db_queries::mysql@{src::db\_\-queries::mysql}}
\subsubsection[{search\_\-books}]{\setlength{\rightskip}{0pt plus 5cm}def src::db\_\-queries::mysql::search\_\-books (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{search\_\-string}
\end{DoxyParamCaption}
)}}
\label{classsrc_1_1db__queries_1_1mysql_a0df5ef96ad4fe9c2d8a5ef6ae28306bc}
\begin{DoxyVerb}
Get books based on author and title search.

\end{DoxyVerb}
 

The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
db\_\-queries.py\end{DoxyCompactItemize}
