README FIRST


Requires some flavour of linux and Python.  Windows user will have to figure
out how it works themselves.
Also requires the python packages:
biblio
zbar
If you want qrcode then also needs qrencode
gtk
sqlite3
reportlab


I wanted to catalog all my books using their barcodes as input and track who
borrows my books.  That's all.  I looked online for a program that would
do just that and couldn't find any that supported barcode input.  The idea
of typing in book details didn't appeal, so wrote this.

This is a simple application to catalogue your library using the ISBN barcode
and the zbarcam application with an ordinary webcam.
The scan triggers a lookup on the database and the book details are downloaded
then commited to the local database.

It uses MySQL.  The database config file is created if none exists.
Use database.sql to populate the database, like:
mysql -p books < database.sql
You have to create the database first using your favourite method/tool.
The database name (books in the example above) can be anything as long as the
config file matches.  If the config file contains a password so take care to make
it secure from prying eyes.

See INSTALL for install instructions.

OBSOLETE
A small warning  Everytime you scan a book a qrcode is generated and place
in the directory above the current directory You may not want this behaviour.
It's trivial to delete/move the created codes however.  I should put a
config option for this behaviour or place the qrcodes somewhere else.
It seemed like a good idea at the time but I admit to never have used the qrcodes for anything. :)
PS. Now removed this 'feature'.  If you want it then modify the source code in add-edit.py
I could write a script to create all of the QRCodes from the DB info if at
some time I change my mind and decide I need them after all.
END OBSOLETE

Older books without bar codes can be manually input via the Query/Edit book
interface.  It's a bit of a pain though if you have lots of books.


DB NOTES:
To get a list of borrowed books from mysql:
SELECT o_date, title, author, borrowers.name
  FROM borrows, borrowers, books
  where borrows.borrower = borrowers.id
  and books.id = borrows.book
  and borrows.i_date IS NULL;

To insert a borrower in the mysql shell:
insert into borrowers(name) values ('Borrower Name');
It's just a text field, the id is auto incremented.
Obviously there should be a nice user friendly GUI for this. :)
Update: There is now.

Update: The config data are now using gconf.  This is (very) marginally more secure
but more importantly is not sensitive to config file location, providing
gconf is installed on target system.  So go ahead, install it.  Edit the source
if it isn't to revert to file based config.  Needs a GUI to setup stuff though,
else use gconf-editor, but this is isn't exactly (l)user friendly.  TODO, 
write the setup GUI.

Update:  2012-04-12 
You can now scan DVDs and CDs provided you have a Amazon web
services account.  http://aws.amazon.com to sign up.  As far as I know, low
useage will attract no charge, likely to be most domestic users. Setting up
gconf for user password stuff is up to you for the moment.  I will add a GUI.
NOTE:  Passwords are stored as plain text in gconf.  This is not good and
some encryption method should (will) be used when the config GUI is written.
